<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>一、前期准备 - App逆向在线笔记</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.6.1, mkdocs-gitbook-1.0.7">

<link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="./css/style.min.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">
<div id="book-search-input" role="search">
<input type="text" placeholder="Type to search" />
</div> <!-- end of book-search-input -->

<nav role="navigation">
<ul class="summary">
<li>
<a href="index.html" target="_blank" class="custom-link">App逆向在线笔记</a>
</li>
<li class="divider"></li>
<li class="chapter" data-path="index.html">
<a href="index.html">Welcome to Lucky App逆向</a>
<li class="chapter active" data-path="day01-%E5%BC%80%E7%8F%AD.html">
<a href="day01-%E5%BC%80%E7%8F%AD.html">一、前期准备</a>
<li class="chapter" data-path="day02-adb.html">
<a href="day02-adb.html">二、adb</a>
<li class="chapter" data-path="day03-%E6%8A%93%E5%8C%85%E5%92%8C%E5%8F%8D%E7%BC%96%E8%AF%91.html">
<a href="day03-%E6%8A%93%E5%8C%85%E5%92%8C%E5%8F%8D%E7%BC%96%E8%AF%91.html">三、抓包和反编译</a>
<li class="chapter" data-path="day04-hook-%E5%B8%B8%E7%94%A8%E5%8A%A0%E5%AF%86-%E6%8A%93%E5%8C%85app.html">
<a href="day04-hook-%E5%B8%B8%E7%94%A8%E5%8A%A0%E5%AF%86-%E6%8A%93%E5%8C%85app.html">四、hook-常用加密-抓包app</a>
<li class="chapter" data-path="day05-%E9%80%86x%E6%A1%88%E4%BE%8B.html">
<a href="day05-%E9%80%86x%E6%A1%88%E4%BE%8B.html">五、抓包和逆向案例</a>
<li class="chapter" data-path="day06-java%E5%9F%BA%E7%A1%8001.html">
<a href="day06-java%E5%9F%BA%E7%A1%8001.html">六、java基础-01</a>
<li class="chapter" data-path="day07-java%E5%9F%BA%E7%A1%8002.html">
<a href="day07-java%E5%9F%BA%E7%A1%8002.html">七、java基础02</a>
<li class="chapter" data-path="day08-java%E5%9F%BA%E7%A1%8003.html">
<a href="day08-java%E5%9F%BA%E7%A1%8003.html">八、java基础03</a>
<li class="chapter" data-path="day09-%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%9101.html">
<a href="day09-%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%9101.html">Day09 安卓开发01</a>
<li class="chapter" data-path="day10-%E5%AE%89%E5%8D%93%E5%9F%BA%E7%A1%8002.html">
<a href="day10-%E5%AE%89%E5%8D%93%E5%9F%BA%E7%A1%8002.html">十、安卓开发02</a>
<li class="chapter" data-path="day10%E5%AE%89%E5%8D%93%E5%9F%BA%E7%A1%80%E5%8A%A0%E5%AF%86%E6%8B%A6%E6%88%AA%E5%99%A8.html">
<a href="day10%E5%AE%89%E5%8D%93%E5%9F%BA%E7%A1%80%E5%8A%A0%E5%AF%86%E6%8B%A6%E6%88%AA%E5%99%A8.html">十、安卓基础加密拦截器</a>
<li class="chapter" data-path="day11-C%E8%AF%AD%E8%A8%80%E5%AE%89%E8%A3%85.html">
<a href="day11-C%E8%AF%AD%E8%A8%80%E5%AE%89%E8%A3%85.html">十一、C语言安装与入门</a>
<li class="chapter" data-path="day12-C%E8%AF%AD%E8%A8%80%E5%92%8CJNI%E5%BC%80%E5%8F%91.html">
<a href="day12-C%E8%AF%AD%E8%A8%80%E5%92%8CJNI%E5%BC%80%E5%8F%91.html">十二、C语言和JNI开发</a>
<li class="chapter" data-path="day13-JNI%E5%BC%80%E5%8F%91.html">
<a href="day13-JNI%E5%BC%80%E5%8F%91.html">十三、JNI开发</a>
<li class="chapter" data-path="day14-%E8%BD%A6%E6%99%BA%E8%B5%A2.html">
<a href="day14-%E8%BD%A6%E6%99%BA%E8%B5%A2.html">十四、车智赢</a>
<li class="chapter" data-path="day15-%E8%AF%86%E8%B4%A7app.html">
<a href="day15-%E8%AF%86%E8%B4%A7app.html">十五、识货app</a>
<li class="chapter" data-path="day16-%E5%BE%97%E7%89%A9app.html">
<a href="day16-%E5%BE%97%E7%89%A9app.html">十六、得物app</a>
<li class="chapter" data-path="day17-B%E7%AB%99%E6%92%AD%E6%94%BE%E9%87%8Fday01.html">
<a href="day17-B%E7%AB%99%E6%92%AD%E6%94%BE%E9%87%8Fday01.html">十七、B站播放量day01</a>
<li class="chapter" data-path="day18-B%E7%AB%9902.html">
<a href="day18-B%E7%AB%9902.html">十八、B站02</a>
<li class="chapter" data-path="day19-B%E7%AB%9903.html">
<a href="day19-B%E7%AB%9903.html">十九、B站02</a>
<li class="chapter" data-path="day20-%E5%94%AF%E5%93%81%E4%BC%9A01.html">
<a href="day20-%E5%94%AF%E5%93%81%E4%BC%9A01.html">二十、唯品会01</a>
<li class="chapter" data-path="day21-%E5%94%AF%E5%93%81%E4%BC%9A02.html">
<a href="day21-%E5%94%AF%E5%93%81%E4%BC%9A02.html">二十一、唯品会02</a>
<li class="chapter" data-path="day22-DYM.html">
<a href="day22-DYM.html">二十二、DYM</a>
<li class="chapter" data-path="day23-%E9%85%92%E4%BB%99%E7%BD%91.html">
<a href="day23-%E9%85%92%E4%BB%99%E7%BD%91.html">二十三、酒仙网</a>
<li class="chapter" data-path="day24-%E5%8F%B8%E5%B0%8F%E5%AE%9D.html">
<a href="day24-%E5%8F%B8%E5%B0%8F%E5%AE%9D.html">二十四、司小宝</a>
<li class="chapter" data-path="day25-unidbg-%E4%B8%8A.html">
<a href="day25-unidbg-%E4%B8%8A.html">二十五、unidbg-上</a>
<li class="chapter" data-path="day26-unidbg-%E4%B8%AD%E7%AF%87.html">
<a href="day26-unidbg-%E4%B8%AD%E7%AF%87.html">二十六、unidbg-中</a>
<li class="chapter" data-path="day27-unidbg-%E4%B8%8B.html">
<a href="day27-unidbg-%E4%B8%8B.html">二十七、unidbg-下</a>
<li class="chapter" data-path="day28-xhs-%E4%B8%8A.html">
<a href="day28-xhs-%E4%B8%8A.html">二十八、xhs-上</a>
<li class="chapter" data-path="day29-xhs-%E4%B8%8B.html">
<a href="day29-xhs-%E4%B8%8B.html">二十九、xhs-下</a>
<li class="chapter" data-path="day30-%E6%97%A0%E9%9A%9C%E7%A2%8D.html">
<a href="day30-%E6%97%A0%E9%9A%9C%E7%A2%8D.html">三十、无障碍开发</a>
<li class="chapter" data-path="day31-%E6%97%A0%E9%9A%9C%E7%A2%8D.html">
<a href="day31-%E6%97%A0%E9%9A%9C%E7%A2%8D.html">三十一、无障碍image-20240703160302051</a>
<li class="chapter" data-path="day32-%E6%97%A0%E9%9A%9C%E7%A2%8D%E9%83%A8%E7%BD%B2.html">
<a href="day32-%E6%97%A0%E9%9A%9C%E7%A2%8D%E9%83%A8%E7%BD%B2.html">三十二、无障碍项目部署</a>
<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">
<div id="book-search-results">
<div class="search-noresults">

<section class="normal markdown-section">



<h1 id="_1">一、前期准备</h1>
<h3 id="1">1、逆向原理</h3>
<ul>
<li>逆向原理</li>
</ul>
<p>安卓正向开发---》安卓开发工程师---》java语言+安卓框架---》写代码+c语言代码---》打包--》xx.apk</p>
<ul>
<li>
<p>apk包含：资源文件(视频，音频，图片)，xx.dex(java语言编译后得到的)，xx.so(c语言代码编译后的),xml,json 把apk后缀名改成zip---》解压--》看到东西了</p>
</li>
<li>
<p>安卓逆向--》拿到apk---》使用反编译工具---》对apk进行反编译--》java代码--》读逻辑+hook--》明白加密原理----》使用python复现出来</p>
</li>
</ul>
<h3 id="2">2、什么是反编译</h3>
<ul>
<li><strong>反编译是指将已编译的安卓应用程序（APK文件）转换回其源代码的过程。</strong>
  通常，安卓应用程序在开发过程中会经过编译，将源代码转换为可执行的二进制代码，这使得源代码不可见和难以理解。反编译的过程旨在还原应用程序的源代码，以便进行分析、理解和修改。</li>
</ul>
<p>通过安卓反编译，你可以获取应用程序的源代码，了解其实现逻辑、算法、资源文件和其他关键信息。这对于安卓应用程序的安全评估、漏洞分析、逆向工程、定制化和学习都有重要意义</p>
<ul>
<li>
<p><strong>在安卓反编译过程中，常见的工具和技术包括：</strong></p>
</li>
<li>
<p>apktool：apktool是一款常用的开源工具，用于反编译和重新打包APK文件。它可以将APK文件解压为资源文件和Smali代码，并提供了对Smali代码进行分析和编辑的功能。</p>
</li>
<li>
<p>JADX：JADX是一款功能强大的开源工具，用于将APK文件转换为可读的Java源代码。它能够还原大部分Java代码，并提供源代码分析和导航功能---》咱们用它</p>
</li>
<li>
<p>JD-GUI：JD-GUI是一款免费的Java反编译工具，可以将已编译的Java类文件转换为可读的Java源代码。尽管它主要用于Java反编译，但对于某些Smali代码的反编译也有一定的支持</p>
</li>
</ul>
<p><img alt="image-20240301214839796" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301214839796.png" /></p>
<h3 id="3hook">3、什么是HOOK</h3>
<ul>
<li>
<p>说明</p>
</li>
<li>
<p>HOOK指的是通过修改或替换目标应用程序的函数或方法来改变其行为的技术</p>
<p>这种技术允许开发者或黑客在不修改应用程序源代码的情况下，对其进行定制、调试、修改或篡改。</p>
</li>
<li>
<p><strong>在安卓中，常见的HOOK技术有以下几种：</strong></p>
</li>
<li>
<p>动态链接库（DLL）注入：通过加载一个自定义的动态链接库来替换目标应用程序的某些函数或方法。这种方式通常需要在ROOT权限下进行，并且需要一些额外的工具和技术，如Xposed Framework或Frida。</p>
</li>
<li>
<p>Xposed框架：Xposed是一款强大的安卓框架，它提供了一种简单的方式来HOOK安卓应用程序。通过Xposed框架，开发者可以编写模块，用于修改或替换目标应用程序的函数或方法。</p>
</li>
<li>Frida框架：Frida是一款功能强大的动态分析工具，它提供了在运行时修改和HOOK应用程序的能力。通过Frida，开发者可以使用JavaScript编写脚本，动态修改目标应用程序的行为--&gt;学习的</li>
</ul>
<p><img alt="image-20240301215235781" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301215235781.png" /></p>
<h3 id="4">4、关于电脑设备选择</h3>
<pre><code class="language-python">笔记本 台式机
电脑配置要高一点：mac，win
内存要大：后续咱们会开很多软件：Frida，idea，jdax，IDA


i5处理器，16g内存

如果配置低，先用----》后续在做破解--》如果卡，忍受不了了，自己想办法

配置越高越好--》如果现在有台电脑--》先不用升级---》后面学习过程中不行了，再升级
</code></pre>
<h3 id="5">5、安卓设备的选择</h3>
<ul>
<li>
<p>电脑端安装安卓模拟器</p>
</li>
<li>
<p>win: 网易mumu、逍遥、夜神、雷电（推荐3版本，不要用4版，以后抓包会有问题）</p>
</li>
<li>
<p>mac: 网易mumu 
        后期讲课中会有问题--》大厂app，都会做 模拟器检测--》必须要有款真机</p>
</li>
<li>
<p>安卓真机--》备用机--》不要把你现在在用的手机当工具机</p>
</li>
<li>
<p>推荐：谷歌手机  2xl及以上  淘宝，闲鱼，拼多多</p>
<p>买的时候，一定咨询好---》必须解了oem锁才能买---》跟卖家沟通--》要求接了</p>
<p>不要买，未解锁了，不解锁，刷不了机
淘宝找人root-----</p>
<p>小米：也可以用，先解bl锁，然后再root</p>
</li>
<li>
<p>其它手机：只要能root，就可以</p>
<p>华为：不行，不支持root</p>
<p>好多厂商不允许 root</p>
</li>
</ul>
<h3 id="6oembl">6、什么是oem锁，什么是bl锁</h3>
<p><strong>"Pixel开启OEM锁"</strong>，通常指的是在Google Pixel设备上启用了OEM锁（也称为Bootloader锁）。
OEM锁是一个安全机制，目的是保护设备免受未经授权的修改和潜在的安全威胁
目前很多厂商不允许解锁
oem锁，bl锁，bootloader锁 指的都是一个意思
不同手机厂商叫法不同</p>
<p><strong>如何开启OEM锁，详见资料</strong>
https://www.cnblogs.com/liuqingzheng/p/17462146.html</p>
<h3 id="7">7、关于谷歌手机</h3>
<pre><code class="language-python"># 三星
# 华为
# 苹果
# 谷歌也出手机--》安卓是谷歌的--》所有新功能--》在自己手机上适配--》国内没有--》欧版，美版

##谷歌手机型号
# 以下是Nexus和Pixel手机的一些常见型号、版本和发布时间的简要列表：
## Nexus手机系列：
Nexus One - Android 2.1 Eclair - 2010年1月发布
Nexus S - Android 2.3 Gingerbread - 2010年12月发布
Galaxy Nexus - Android 4.0 Ice Cream Sandwich - 2011年11月发布
Nexus 4 - Android 4.2 Jelly Bean - 2012年11月发布
Nexus 5 - Android 4.4 KitKat - 2013年10月发布
Nexus 6 - Android 5.0 Lollipop - 2014年10月发布
Nexus 5X - Android 6.0 Marshmallow - 2015年9月发布
Nexus 6P - Android 6.0 Marshmallow - 2015年9月发布
Nexus 9 - Android 5.0 Lollipop - 2014年11月发布
Nexus Player - Android 5.0 Lollipop - 2014年11月发布
## Pixel手机系列：
Pixel - Android 7.1 Nougat - 2016年10月发布
Pixel XL - Android 7.1 Nougat - 2016年10月发布
Pixel 2 - Android 8.0 Oreo - 2017年10月发布
Pixel 2 XL - Android 8.0 Oreo - 2017年10月发布  # 推荐 Pixel 2 XL 便宜好用 380块
Pixel 3 - Android 9 Pie - 2018年10月发布
Pixel 3 XL - Android 9 Pie - 2018年10月发布
Pixel 3a - Android 9 Pie - 2019年5月发布
Pixel 3a XL - Android 9 Pie - 2019年5月发布
Pixel 4 - Android 10 - 2019年10月发布
Pixel 4 XL - Android 10 - 2019年10月发布   # 600左右
Pixel 4a - Android 10 - 2020年8月发布
Pixel 4a (5G) - Android 11 - 2020年9月发布
Pixel 5 - Android 11 - 2020年9月发布
Pixel 6 和 Pixel 6 Pro  -2021年9月发布
Pixel 7a、Pixel 7     -2023年5月发布
</code></pre>
<h1 id="root">二、Root设备</h1>
<h3 id="1-root">1、 什么是root</h3>
<p>ROOT是指获取安卓设备（手机或平板电脑）的超级用户权限，也被称为管理员或根用户权限。通过Root手机，用户可以获得对操作系统的完全控制权限，可以访问和修改系统文件、安装自定义固件、运行需要Root权限的应用程序等。</p>
<p><strong>Root权限的好处包括：</strong></p>
<p>定制化：Root后，用户可以更深入地定制和个性化他们的设备，如更改主题、修改系统设置、安装自定义ROM等。
删除预装应用程序：有些设备预装了一些无法卸载的应用程序，通过Root可以删除这些预装应用程序，释放存储空间和系统资源。
安装和运行需要Root权限的应用程序：有些应用程序需要Root权限才能正常工作，例如一些备份工具、系统优化工具等。
提高性能和扩展功能：通过Root权限，用户可以进行一些系统优化和调整，以提高设备的性能和功能。</p>
<p><strong>坏处</strong></p>
<p>需要注意的是，Root手机可能存在一些风险和潜在的问题，包括安全性问题、失去设备保修、无法正常升级系统等。
Root手机也可能违反设备制造商的保修条款，因此在进行Root操作之前，请先查看设备的保修政策</p>
<h3 id="2root">2、小米手机root(不建议)</h3>
<p><strong>正常拿到一部手机后需要做：</strong></p>
<p>第1步：申请解BL锁
  注册小米账号、手机和账号绑定、申请解锁，申请后一般需等7天才能成功解锁。
  注：淘宝上有人可以秒解，曾有同学新手机被搞的无法开机，又去返厂（请谨慎）。</p>
<p>第2步：root，手机root就是获得最高权限，app逆向必备，一般现在的手机root有2种方式：</p>
<ul>
<li>
<p>FastBoot刷Magisk，一般分区无法挂载（system目录）【推荐】
    https://www.bilibili.com/video/BV1er4y1C7wU/
    https://magiskcn.com/</p>
</li>
<li>
<p>淘宝找人代刷（30-50左右）</p>
</li>
<li>网上找资料</li>
</ul>
<p><strong>注意</strong>：其他机型，请自行解决root问题。</p>
<h3 id="3root">3、谷歌手机root</h3>
<p>https://www.cnblogs.com/liuqingzheng/p/17462146.html(什么是bl锁--》不要按这个root)</p>
<p>https://www.cnblogs.com/liuqingzheng/p/17462127.html（刷机+root）</p>
<h2 id="python">三、Python虚拟环境</h2>
<h3 id="1_1">1、虚拟环境</h3>
<ul>
<li>咱们做python开发--》python解释器<ul>
<li>pip      ：安装第三方模块            # D:\python39\Scripts\</li>
<li>python   ：执行python命令的控制台    # D:\python39\</li>
<li>在任意路径执行python  pip  都能运行</li>
</ul>
</li>
<li>
<p>假设咱们开发了俩项目
    -项目一：使用   requests模块 1.x版本
      -项目二：使用了 requests模块的 2.x版本
      -系统解释器上只能存在一个版本的某个模块    </p>
</li>
<li>
<p>不同项目，使用不同的解释器，相互独立，互补影响--》自己使用自己的依赖的模块--》防止包管理的混乱</p>
</li>
<li>
<p>使用虚拟环境解决
    -Virtualenv ：用这种
      -pipenv</p>
</li>
<li>
<p>如何做</p>
</li>
</ul>
<p><img alt="image-20240301223553848" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301223553848.png" /></p>
<h3 id="2pycharm">2、使用pycharm创建虚拟环境</h3>
<p><img alt="image-20240301224129227" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301224129227.png" /></p>
<p><img alt="image-20240301224257084" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301224257084.png" /></p>
<p><img alt="image-20240301224403751" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301224403751.png" /></p>
<p><img alt="image-20240301224648743" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301224648743.png" /></p>
<h3 id="3">3、导出项目依赖</h3>
<pre><code class="language-python"># 以后每个python项目，项目路径下，都要有 ---》手写也行，自动生成也可以
    requirements.txt  # 记录了当前项目使用了那些第三方模块和模块版本
    Django==3.2.19
    django-comment-migrate==0.1.7

# 命令生成--》做完项目再执行
pip freeze &gt; requirements.txt  # 放了你当前解释器中装的所有模块--》咱们项目装的模块就是要用的--》这里面就是完整的


# 以后把项目发给别人
    项目代码+requirements.txt  
    不带venv
# 拿到代码的人，创建虚拟环境--》安装第三方依赖
</code></pre>
<p><img alt="image-20240301225426100" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301225426100.png" /></p>
<p><img alt="image-20240301225559496" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301225559496.png" /></p>
<p><img alt="image-20240301225657182" src="imgs/day01-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/image-20240301225657182.png" /></p>


</section>
</div> <!-- end of search-noresults -->
<div class="search-results">
<div class="has-results">

<h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
<ul class="search-results-list"></ul>

</div> <!-- end of has-results -->
<div class="no-results">

<h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>

</div> <!-- end of no-results -->
</div> <!-- end of search-results -->
</div> <!-- end of book-search-results -->

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<script src="./js/main.js"></script>
<script src="search/main.js"></script>
<script src="./js/gitbook.min.js"></script>
<script src="./js/theme.min.js"></script>
</body>
</html>